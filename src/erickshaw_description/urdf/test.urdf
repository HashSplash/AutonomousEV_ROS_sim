<?xml version="1.0" ?>
<robot name="erickshaw">
  <!-- Color -->
  <material name="blue">
    <color rgba="0.2 0.2 1 1"/>
  </material>
  <material name="grey">
    <color rgba="0.5 0.5 0.5 1"/>
  </material>
  <!-- base and chasiss -->
  <link name="base"/>
  <link name="chasiss">
    <visual>
      <material name="blue"/>
      <origin rpy="1.570796326795 0 0" xyz="-2.925 0 0.3"/>
      <geometry>
        <mesh filename="package://robot_description/mesh/erickshaw/rikchasiss.stl" scale="0.05 0.05 0.05"/>
      </geometry>
    </visual>
    <collision>
      <origin rpy="1.570796326795 0 0" xyz="-2.925 0 0.3"/>
      <geometry>
        <mesh filename="package://robot_description/mesh/erickshaw/rikchasiss.stl" scale="0.05 0.05 0.05"/>
      </geometry>
    </collision>
    <inertial>
      <origin rpy="0 0 0" xyz="-2.225 0 1.2"/>
      <mass value="200"/>
      <inertia ixx="255.4107333333333" ixy="0.0" ixz="0.0" iyy="460.40406666666655" iyz="0.0" izz="366.3266666666666"/>
    </inertial>
  </link>
  <joint name="base_joint" type="fixed">
    <parent link="base"/>
    <child link="chasiss"/>
    <origin rpy="0 0 0" xyz="2.9 0 0.75"/>
  </joint>
  <!-- chasiss and right wheel -->
  <link name="wheel_right">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://robot_description/mesh/erickshaw/ewheel.stl" scale="0.05 0.05 0.05"/>
      </geometry>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://robot_description/mesh/erickshaw/ewheel.stl" scale="0.05 0.05 0.05"/>
      </geometry>
    </collision>
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <mass value="3.4"/>
      <inertia ixx="0.22095353333333334" ixy="0.0" ixz="0.0" iyy="0.22095353333333334" iyz="0.0" izz="0.4199153"/>
    </inertial>
  </link>
  <joint name="right_wheel" type="continuous">
    <parent link="chasiss"/>
    <child link="wheel_right"/>
    <origin rpy="0 0 0" xyz="0 1.4 0"/>
    <axis xyz="0 -1 0"/>
  </joint>
  <!-- <transmission name="right_wheel">
        <type>transmission_interface/SimpleTransmission</type>
        <joint name="right_wheel">
            <hardwareInterface>hardware_interface/VelocityJointInterface</hardwareInterface>
        </joint>
        <actuator name="BLDC_right">
            <hardwareInterface>hardware_interface/VelocityJointInterface</hardwareInterface>
            <mechanicalReduction>1</mechanicalReduction>
        </actuator>
    </transmission> -->
  <!-- chasiss and left wheel -->
  <link name="wheel_left">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://robot_description/mesh/erickshaw/ewheel.stl" scale="0.05 0.05 0.05"/>
      </geometry>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://robot_description/mesh/erickshaw/ewheel.stl" scale="0.05 0.05 0.05"/>
      </geometry>
    </collision>
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <mass value="3.4"/>
      <inertia ixx="0.22095353333333334" ixy="0.0" ixz="0.0" iyy="0.22095353333333334" iyz="0.0" izz="0.4199153"/>
    </inertial>
  </link>
  <joint name="left_wheel" type="continuous">
    <parent link="chasiss"/>
    <child link="wheel_left"/>
    <origin rpy="0 0 0" xyz="0 -1.4 0"/>
    <axis xyz="0 -1 0"/>
    <mimic joint="right_wheel" multiplier="1" offset="0"/>
  </joint>
  <!-- <transmission name="left_wheel">
        <type>transmission_interface/SimpleTransmission</type>
        <joint name="left_wheel">
            <hardwareInterface>hardware_interface/VelocityJointInterface</hardwareInterface>
        </joint>
        <actuator name="BLDC_left">
            <hardwareInterface>hardware_interface/VelocityJointInterface</hardwareInterface>
            <mechanicalReduction>1</mechanicalReduction>
        </actuator>
    </transmission> -->
  <!-- roof and chasiss -->
  <link name="roof">
    <visual>
      <origin rpy="1.570796326795 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://robot_description/mesh/erickshaw/roof.stl" scale="0.05 0.05 0.05"/>
      </geometry>
    </visual>
    <collision>
      <origin rpy="1.570796326795 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://robot_description/mesh/erickshaw/roof.stl" scale="0.05 0.05 0.05"/>
      </geometry>
    </collision>
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <mass value="27"/>
      <inertia ixx="93.215025" ixy="0.0" ixz="0.0" iyy="132.19402499999998" iyz="0.0" izz="63.40904999999999"/>
    </inertial>
  </link>
  <joint name="roof" type="fixed">
    <parent link="chasiss"/>
    <child link="roof"/>
    <origin rpy="0 0 0" xyz="-2.925 0 3.7"/>
  </joint>
  <!-- axle and chasiss -->
  <link name="axle">
    <visual>
      <material name="grey"/>
      <origin rpy="0 0 1.570796326795" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://robot_description/mesh/erickshaw/diffrentialmotorized.stl" scale="0.05 0.05 0.05"/>
      </geometry>
    </visual>
    <collision>
      <origin rpy="0 0 1.570796326795" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://robot_description/mesh/erickshaw/diffrentialmotorized.stl" scale="0.05 0.05 0.05"/>
      </geometry>
    </collision>
    <inertial>
      <origin rpy="1.5707963267948966 0 0" xyz="0 0 0"/>
      <mass value="11"/>
      <inertia ixx="2.882110916666667" ixy="0.0" ixz="0.0" iyy="2.882110916666667" iyz="0.0" izz="0.22000000000000003"/>
    </inertial>
  </link>
  <joint name="axle" type="fixed">
    <parent link="chasiss"/>
    <child link="axle"/>
    <origin rpy="0 0 0" xyz="0 0 0"/>
  </joint>
  <!-- handle and chasiss -->
  <link name="handle">
    <visual>
      <origin rpy="1.570796326795 0 0" xyz="0 0 0"/>
      <material name="grey"/>
      <geometry>
        <cylinder length="1.656" radius="0.07"/>
      </geometry>
    </visual>
    <collision>
      <origin rpy="1.570796326795 0 0" xyz="0 0 0"/>
      <geometry>
        <cylinder length="1.656" radius="0.07"/>
      </geometry>
    </collision>
    <inertial>
      <origin rpy="1.5707963267948966 0 0" xyz="0 0 0"/>
      <mass value="2"/>
      <inertia ixx="0.45950599999999997" ixy="0.0" ixz="0.0" iyy="0.45950599999999997" iyz="0.0" izz="0.004900000000000001"/>
    </inertial>
  </link>
  <joint name="handle" type="revolute">
    <parent link="chasiss"/>
    <child link="handle"/>
    <origin rpy="0 0 0" xyz="-5.58 0 1.85"/>
    <axis xyz="0 0 -1"/>
    <limit effort="30" lower="-0.6853981633975" upper="0.6853981633975" velocity="1.9"/>
  </joint>
  <!-- <transmission name="steering">
        <type>transmission_interface/SimpleTransmission</type>
        <joint name="handle">
            <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
        </joint>
        <actuator name="stepper">
            <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
            <mechanicalReduction>5</mechanicalReduction>
        </actuator>
    </transmission> -->
  <!-- holder_r and handle -->
  <link name="holder_r">
    <visual>
      <material name="grey"/>
      <origin rpy="0 0 0" xyz="0 0 -1.2"/>
      <geometry>
        <cylinder length="2.4" radius="0.07"/>
      </geometry>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 -1.2"/>
      <geometry>
        <cylinder length="2.4" radius="0.07"/>
      </geometry>
    </collision>
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 -1.2"/>
      <mass value="3.5"/>
      <inertia ixx="1.6842875" ixy="0.0" ixz="0.0" iyy="1.6842875" iyz="0.0" izz="0.008575000000000001"/>
    </inertial>
  </link>
  <joint name="holder_r" type="fixed">
    <parent link="handle"/>
    <child link="holder_r"/>
    <origin rpy="0 0.5235987755982988 0" xyz="0 0.3 0"/>
  </joint>
  <!-- holder_l and handle -->
  <link name="holder_l">
    <visual>
      <material name="grey"/>
      <origin rpy="0 0 0" xyz="0 0 -1.2"/>
      <geometry>
        <cylinder length="2.4" radius="0.07"/>
      </geometry>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 -1.2"/>
      <geometry>
        <cylinder length="2.4" radius="0.07"/>
      </geometry>
    </collision>
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 -1.2"/>
      <mass value="3.5"/>
      <inertia ixx="1.6842875" ixy="0.0" ixz="0.0" iyy="1.6842875" iyz="0.0" izz="0.008575000000000001"/>
    </inertial>
  </link>
  <joint name="holder_l" type="fixed">
    <parent link="handle"/>
    <child link="holder_l"/>
    <origin rpy="0 0.5235987755982988 0" xyz="0 -0.3 0"/>
  </joint>
  <!-- design and handle -->
  <link name="design">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://robot_description/mesh/erickshaw/dbrake.stl" scale="0.05 0.05 0.05"/>
      </geometry>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://robot_description/mesh/erickshaw/dbrake.stl" scale="0.05 0.05 0.05"/>
      </geometry>
    </collision>
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <mass value="0.75"/>
      <inertia ixx="0.0013796875000000003" ixy="0.0" ixz="0.0" iyy="0.0013796875000000003" iyz="0.0" izz="0.0027093750000000004"/>
    </inertial>
  </link>
  <joint name="design" type="fixed">
    <parent link="handle"/>
    <child link="design"/>
    <origin rpy="0 0 0" xyz="0 0 0.1"/>
  </joint>
  <!-- f_wheel and handle -->
  <link name="f_wheel">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://robot_description/mesh/erickshaw/ewheel.stl" scale="0.05 0.05 0.05"/>
      </geometry>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://robot_description/mesh/erickshaw/ewheel.stl" scale="0.05 0.05 0.05"/>
      </geometry>
    </collision>
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <mass value="3.4"/>
      <inertia ixx="0.22095353333333334" ixy="0.0" ixz="0.0" iyy="0.22095353333333334" iyz="0.0" izz="0.4199153"/>
    </inertial>
  </link>
  <joint name="f_wheel" type="continuous">
    <parent link="handle"/>
    <child link="f_wheel"/>
    <origin rpy="0 0 0" xyz="-1.1 0 -1.85"/>
    <axis xyz="0 -1 0"/>
    <mimic joint="right_wheel" multiplier="1" offset="0"/>
  </joint>
  <!-- <transmission name="front_wheel">
        <type>transmission_interface/SimpleTransmission</type>
        <joint name="f_wheel">
            <hardwareInterface>hardware_interface/VelocityJointInterface</hardwareInterface>
        </joint>
        <actuator name="BLDC_front">
            <hardwareInterface>hardware_interface/VelocityJointInterface</hardwareInterface>
            <mechanicalReduction>1</mechanicalReduction>
        </actuator>
    </transmission> -->
  <!-- chasiss and battery_bb  -->
  <link name="battery_bb">
    <visual>
      <origin rpy="1.570796326795 0 0" xyz="0 0 -0.25"/>
      <geometry>
        <mesh filename="package://robot_description/mesh/erickshaw/battery.stl" scale="0.05 0.05 0.05"/>
      </geometry>
    </visual>
    <collision>
      <origin rpy="1.570796326795 0 0" xyz="0 0 -0.25"/>
      <geometry>
        <mesh filename="package://robot_description/mesh/erickshaw/battery.stl" scale="0.05 0.05 0.05"/>
      </geometry>
    </collision>
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <mass value="45"/>
      <inertia ixx="6.3374999999999995" ixy="0.0" ixz="0.0" iyy="1.875" iyz="0.0" izz="6.3374999999999995"/>
    </inertial>
  </link>
  <joint name="battery_bb" type="fixed">
    <parent link="chasiss"/>
    <child link="battery_bb"/>
    <origin rpy="0 0 0" xyz="0.1 0 0.6"/>
  </joint>
  <!-- chasiss and battery_bf  -->
  <link name="battery_bf">
    <visual>
      <origin rpy="1.570796326795 0 0" xyz="0 0 -0.25"/>
      <geometry>
        <mesh filename="package://robot_description/mesh/erickshaw/battery.stl" scale="0.05 0.05 0.05"/>
      </geometry>
    </visual>
    <collision>
      <origin rpy="1.570796326795 0 0" xyz="0 0 -0.25"/>
      <geometry>
        <mesh filename="package://robot_description/mesh/erickshaw/battery.stl" scale="0.05 0.05 0.05"/>
      </geometry>
    </collision>
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <mass value="45"/>
      <inertia ixx="6.3374999999999995" ixy="0.0" ixz="0.0" iyy="1.875" iyz="0.0" izz="6.3374999999999995"/>
    </inertial>
  </link>
  <joint name="battery_bf" type="fixed">
    <parent link="chasiss"/>
    <child link="battery_bf"/>
    <origin rpy="0 0 0" xyz="-0.45 0 0.6"/>
  </joint>
  <!-- chasiss and battery_fl  -->
  <link name="battery_fl">
    <visual>
      <origin rpy="1.570796326795 0 0" xyz="0 0 -0.25"/>
      <geometry>
        <mesh filename="package://robot_description/mesh/erickshaw/battery.stl" scale="0.05 0.05 0.05"/>
      </geometry>
    </visual>
    <collision>
      <origin rpy="1.570796326795 0 0" xyz="0 0 -0.25"/>
      <geometry>
        <mesh filename="package://robot_description/mesh/erickshaw/battery.stl" scale="0.05 0.05 0.05"/>
      </geometry>
    </collision>
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <mass value="45"/>
      <inertia ixx="6.3374999999999995" ixy="0.0" ixz="0.0" iyy="1.875" iyz="0.0" izz="6.3374999999999995"/>
    </inertial>
  </link>
  <joint name="battery_fl" type="fixed">
    <parent link="chasiss"/>
    <child link="battery_fl"/>
    <origin rpy="0 0 0" xyz="-2.4 -0.45 0.6"/>
  </joint>
  <!-- chasiss and battery_fr  -->
  <link name="battery_fr">
    <visual>
      <origin rpy="1.570796326795 0 0" xyz="0 0 -0.25"/>
      <geometry>
        <mesh filename="package://robot_description/mesh/erickshaw/battery.stl" scale="0.05 0.05 0.05"/>
      </geometry>
    </visual>
    <collision>
      <origin rpy="1.570796326795 0 0" xyz="0 0 -0.25"/>
      <geometry>
        <mesh filename="package://robot_description/mesh/erickshaw/battery.stl" scale="0.05 0.05 0.05"/>
      </geometry>
    </collision>
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <mass value="45"/>
      <inertia ixx="6.3374999999999995" ixy="0.0" ixz="0.0" iyy="1.875" iyz="0.0" izz="6.3374999999999995"/>
    </inertial>
  </link>
  <joint name="battery_fr" type="fixed">
    <parent link="chasiss"/>
    <child link="battery_fr"/>
    <origin rpy="0 0 0" xyz="-2.4 0.45 0.6"/>
  </joint>
  <!-- <gazebo>
        <plugin name="gazebo_ros_control" filename="libgazebo_ros_control.so">
            <robotNamespace>/erickshaw</robotNamespace>
            <robotsimType>/gazebo_ros_control/DefaultRobotHWSim</robotsimType>
            <legacyModeNS>true</legacyModeNS>
        </plugin>

        <plugin name="mimic_left_wheel" filename="libroboticsgroup_gazebo_mimic_joint_plugin.so">
            <joint>right_wheel</joint>
            <mimicJoint>left_wheel</mimicJoint>
            <multiplier>1.0</multiplier>
            <offset>0</offset>
            <robotNamespace>/erickshaw</robotNamespace>
        </plugin>

        <plugin name="mimic_front_wheel" filename="libroboticsgroup_gazebo_mimic_joint_plugin.so">
            <joint>right_wheel</joint>
            <mimicJoint>f_wheel</mimicJoint>
            <multiplier>1.0</multiplier>
            <offset>0</offset>
            <robotNamespace>/erickshaw</robotNamespace>
        </plugin>
    </gazebo> -->
</robot>
